{"version":3,"sources":["img/sad.png","img/thumbup.png","img/info.png","utils/utils.js","utils/thymeleaf-utils.js","panels/RedirectButtonType.js","panels/ButtonTemplate.js","utils/PlatformType.js","panels/RedirectButton.js","panels/utils.js","panels/Message.js","panels/InformationPanel.js","panels/ContentPanel.js","App.js","panels/ErrorMessage.js","panels/UnregisteredUserMessage.js","panels/MenuButton.js","panels/PermanentAccessInstruction.js","utils/render.js","panels/TemporaryAccessProvided.js","panels/NeedCacheCleanMessage.js","utils/ApiError.js","utils/request.js","panels/TemporaryAccessDeclined.js","utils/accessRequest.js","utils/VkDataAccessType.js","utils/ApiErrorHandler.js","panels/PermanentAccessProvided.js","utils/PermanentAccessProvideResult.js","panels/PermanentAccessDeclined.js","utils/start.js","utils/handleEvent.js","index.js","img/kind.png","panels/style.module.css"],"names":["module","exports","exists","obj","undefined","strIsBlank","str","strContains","substr","indexOf","ThymeleafParamName","getThymeleafParam","paramName","getThymeleafParamWithDefault","defaultValue","el","getThymeleafParamContainer","text","setThymeleafParam","value","$","getThymeleafParamBool","getThymeleafParamInt","strRes","parseInt","RedirectButtonType","ButtonTemplate","onClick","size","level","className","styles","button","PlatformType","RedirectButton","urlThParamName","buttonTextThParamName","type","DIALOG","GROUP","PERMANENT_ACCESS","href","permanentAccessProvideResult","attributes","target","MOBILE","createButton","buttonLink","handleLineBreakers","lines","split","getLines","length","map","line","createRegisteredDependentRedirectButton","redirectButtonType","htmlTagName","classNames","CustomTag","wrapper","flex","Message","marginTopPc","marginTopMobile","textHeader","emoticon","content","buttons","marginTop","PC","style","container","src","alt","InformationPanel","id","panelHeaderText","contentPanelActviator","left","ContentPanel","headerText","infoPanelActviator","showPanelHeader","position","color","right","cursor","width","height","App","props","informationPanelId","contentPanelId","state","activePanel","panelId","this","setState","Tag","tag","contentPanel","changeActivePannel","informationPanel","React","Component","ErrorMessage","errorText","sadImg","UnregisteredUserMessage","kindImg","MenuButton","createTextContainer","bigTextContainer","PermanentAccessInstruction","mobileText","intro","clarificationHeader","clarificationText","textAlign","fontWeight","render","ReactDOM","document","getElementById","renderPermanentAccessInstruction","TemporaryAccessProvided","buttonText","thumbupImg","NeedCacheCleanMessage","ApiError","requestWithRepeatedFlag","methodUrn","parameters","dataHandler","repeated","apiErrorHandlers","apiUrl","params","defaultParams","token","Object","assign","createParamsContainer","axious","post","then","response","data","getResponseData","catch","e","TOKEN_NOT_RELEVANT","TOKEN_EXPIRED","renderErrorMessage","handleExpiredToken","apiErrorHandler","errorCode","hadler","getApiErrorHandler","res","request","TemporaryAccessDeclined","requestAccess","appId","scope","connect","send","renderTemporaryAccessDeclined","VkDataAccessType","ApiErrorHandler","PermanentAccessProvided","PermanentAccessProvideResult","PermanentAccessDeclined","start","platformType","os","platform","toString","toLowerCase","checkPlatformType","SUCCESS","DECLINED","handlePermanentAccessProvideResult","userNotRegisteredHandler","USER_NOT_REGISTERED","NONE","TEMPORARY","PERMANENT","handleAccessType","handleEvent","event","detail","access_token","handleAccessProvided","subscribe"],"mappings":"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","file":"static/js/main.7fdcc809.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sad.7cc058fa.png\";","module.exports = __webpack_public_path__ + \"static/media/thumbup.677ed694.png\";","module.exports = \"data:image/png;base64,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\"","const LINE_BREAKER = '\\n';\n\nexport function exists(obj) {\n\treturn obj !== undefined && obj !== null;\n}\n\nexport function strIsBlank(str) {\n\treturn !exists(str) || str === '';\n}\n\nexport function getLines(str) {\n\tif (strIsBlank(str)) {\n\t\treturn str;\n\t}\n\treturn str.split(LINE_BREAKER);\n}\n\nexport function isString(val) {\n\treturn typeof val === 'string';\n}\n\nexport function strContains(str, substr) {\n\tif (strIsBlank(str) || !exists(substr)) {\n\t\treturn false;\n\t}\n\treturn str.indexOf(substr) !== -1;\n}","import $ from 'jquery';\nimport { strIsBlank, exists } from './utils';\n\nexport const ThymeleafParamName = {\n\tTOKEN: 'token',\n\tPERMANENT_ACCESS_PROVIDE_RESULT: 'permanent-access-provide-result',\n\tERROR: 'error',\n\tIS_REGISTERED: 'is-registered',\n\tPLATFORM_TYPE: 'platform-type',\n\tERROR_HEADER: 'error-header',\n\tERROR_TEXT: 'error-text',\n\tDIALOG_URL: 'dialog-url',\n\tGROUP_URL: 'group-url',\n\tPANEL_HEADER_TEXT: 'panel-header-text',\n\tDIALOG_REDIRECT_BUTTON_TEXT: 'dialog-redirect-button-text',\n\tGROUP_REDIRECT_BUTTON_TEXT: 'group-redirect-button-text',\n\tTMP_ACCESS_PROVIDED_HEADER: 'tmp-access-provided-header',\n\tNEED_REPEAT_ACCESS_PROVISION_TEXT: 'need-repeat-access-provision-text',\n\tPERMANENT_ACCESS_BUTTON_TEXT: 'permanent-access-button-text',\n\tNEED_CACHE_CLEAN_HEADER: 'need-cache-clean-header',\n\tNEED_CACHE_CLEAN_PC_TEXT: 'need-cache-clean-pc-text',\n\tNEED_CACHE_CLEAN_MOBILE_TEXT: 'need-cache-clean-mobile-text',\n\tNEED_CACHE_CLEAN_COMMON_TEXT: 'need-cache-clean-common-text',\n\tAPI_URL: 'api-url',\n\tGET_ACCESS_TYPE_METHOD_URN: 'get-access-type-method-urn',\n\tREFRESH_TOKEN_METHOD_URN: 'refresh-token-method-urn',\n\tSET_ACCESS_TOKEN_METHOD_URN: 'set-access-token-method-urn',\n\tPERMANENT_ACCESS_PROVIDED_HEADER: 'permanent-access-provided-header',\n\tPERMANENT_ACCESS_PROVIDED_TEXT: 'permanent-access-provided-text',\n\tUNREGISTERED_USER_MESSAGE_HEADER: 'unregistered-user-message-header',\n\tUNREGISTERED_USER_MESSAGE_TEXT: 'unregistered-user-message-text',\n\tACCESS_REQUEST_SCOPE: 'access-request-scope',\n\tAPP_ID: 'app-id',\n\tTMP_ACCESS_DECLINED_HEADER: 'tmp-access-declined-header',\n\tTMP_ACCESS_DECLINED_TEXT: 'tmp-access-declined-text',\n\tRETRY_PROVIDE_TMP_ACCESS_BUTTON_TEXT: 'retry-provide-tmp-access-button-text',\n\tPERMANENT_ACCESS_URL: 'permanent-access-url',\n\tPER_ACCESS_REDIRECT_BUTTON_TEXT: 'per-access-redirect-button-text',\n\tPER_ACCESS_DECLINED_HEADER: 'per-access-declined-header',\n\tPER_ACCESS_INSTRUCTION_HEADER: 'per-access-instruction-header',\n\tPER_ACCESS_INSTRUCTION_INTRO: 'per-access-instruction-intro',\n\tPER_ACCESS_INSTRUCTION_CLARIFICATION_HEADER: 'per-access-instruction-clarification-header',\n\tPER_ACCESS_INSTRUCTION_CLARIFICATION_TEXT: 'per-access-instruction-clarification-text',\n\tPER_ACCESS_INSTRUCTION_MOBILE_TEXT: 'per-access-instruction-mobile-text'\n};\n\nexport function getThymeleafParam(paramName) {\n\treturn getThymeleafParamWithDefault(paramName, null);\n}\n\nexport function getThymeleafParamWithDefault(paramName, defaultValue) {\n\tconst el = getThymeleafParamContainer(paramName);\n\tif (!el || strIsBlank(el.text())) {\n\t\treturn defaultValue;\n\t}\n\treturn el.text();\n}\n\nexport function setThymeleafParam(paramName, value) {\n\tconst el = getThymeleafParamContainer(paramName);\n\tif (!exists(el)) {\n\t\treturn;\n\t}\n\tel.text(value);\n}\n\nfunction getThymeleafParamContainer(paramName) {\n\treturn $('#th-' + paramName);\n}\n\nexport function getThymeleafParamBool(paramName) {\n\tconst strRes = getThymeleafParamWithDefault(paramName, 'false');\n\tif (strRes === 'true') {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nexport function getThymeleafParamInt(paramName) {\n\tconst strRes = getThymeleafParam(paramName);\n\tif (!exists(strRes)) {\n\t\treturn null;\n\t}\n\treturn parseInt(strRes, 10);\n}","const RedirectButtonType = {\n\t\"DIALOG\": 0,\n\t\"GROUP\": 1,\n\t\"PERMANENT_ACCESS\": 2\n}\n\nexport default RedirectButtonType;","import React from 'react';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\n\nimport styles from './style.module.css';\n\nconst ButtonTemplate = ({ text, onClick }) => (\n\t<Button size=\"l\" level=\"secondary\" className={styles.button} {...(onClick && { onClick: onClick })}>{text}</Button>\n);\n\nexport default ButtonTemplate;","const PlatformType = {\n\t\"PC\": 0,\n\t\"MOBILE\": 1,\n\t\"M_VK_COM\": 2\n}\n\nexport default PlatformType;","import React from 'react';\nimport ButtonTemplate from './ButtonTemplate';\nimport styles from './style.module.css';\nimport { ThymeleafParamName, getThymeleafParam, getThymeleafParamInt } from '../utils/thymeleaf-utils';\nimport { exists } from '../utils/utils';\nimport PlatformType from '../utils/PlatformType';\nimport RedirectButtonType from './RedirectButtonType';\nimport { createButton } from './utils';\n\nconst RedirectButton = ({ type }) => {\n\tlet urlThParamName;\n\tlet buttonTextThParamName;\n\tswitch (type) {\n\t\tcase RedirectButtonType.DIALOG:\n\t\t\turlThParamName = ThymeleafParamName.DIALOG_URL;\n\t\t\tbuttonTextThParamName = ThymeleafParamName.DIALOG_REDIRECT_BUTTON_TEXT;\n\t\t\tbreak;\n\t\tcase RedirectButtonType.GROUP:\n\t\t\turlThParamName = ThymeleafParamName.GROUP_URL;\n\t\t\tbuttonTextThParamName = ThymeleafParamName.GROUP_REDIRECT_BUTTON_TEXT;\n\t\t\tbreak;\n\t\tcase RedirectButtonType.PERMANENT_ACCESS:\n\t\t\turlThParamName = ThymeleafParamName.PERMANENT_ACCESS_URL;\n\t\t\tbuttonTextThParamName = ThymeleafParamName.PER_ACCESS_REDIRECT_BUTTON_TEXT;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\tif (!exists(urlThParamName) || !exists(buttonTextThParamName)) {\n\t\treturn null;\n\t}\n\n\tconst href = getThymeleafParam(urlThParamName);\n\tconst text = getThymeleafParam(buttonTextThParamName);\n\tif (!exists(href) || !exists(text)) {\n\t\treturn null;\n\t}\n\n\tconst permanentAccessProvideResult = getThymeleafParamInt(ThymeleafParamName.PERMANENT_ACCESS_PROVIDE_RESULT);\n\tconst openInNewTab = getThymeleafParamInt(ThymeleafParamName.PLATFORM_TYPE) !== PlatformType.MOBILE\n\t\t&& !exists(permanentAccessProvideResult);\n\tconst attributes = { href: href, target: openInNewTab ? \"_blank\" : undefined }\n\treturn createButton('a', <ButtonTemplate text={text} />, styles.buttonLink, attributes);\n};\n\nexport default RedirectButton;","import React from 'react';\nimport { exists, getLines, strIsBlank } from '../utils/utils';\nimport { ThymeleafParamName, getThymeleafParamBool } from '../utils/thymeleaf-utils';\nimport RedirectButtonType from './RedirectButtonType';\nimport RedirectButton from './RedirectButton';\nimport styles from './style.module.css';\n\nexport function handleLineBreakers(str) {\n\tif (strIsBlank(str)) {\n\t\treturn str;\n\t}\n\tconst lines = getLines(str);\n\treturn (\n\t\tlines.length === 1 ? str : lines.map((line) => {\n\t\t\tif (strIsBlank(line)) {\n\t\t\t\treturn <br />\n\t\t\t}\n\t\t\treturn <div>{line}</div>\n\t\t})\n\t);\n}\n\nexport function createRegisteredDependentRedirectButton() {\n\tconst isRegistered = getThymeleafParamBool(ThymeleafParamName.IS_REGISTERED);\n\tconst redirectButtonType = isRegistered ? RedirectButtonType.DIALOG : RedirectButtonType.GROUP;\n\treturn <RedirectButton type={redirectButtonType} />\n}\n\nexport function createButton(htmlTagName, button, classNames, attributes) {\n\tconst CustomTag = htmlTagName;\n\treturn (\n\t\t<CustomTag className={`${styles.wrapper} ${styles.flex} ${exists(classNames) && classNames}`} {...(attributes)}>\n\t\t\t{button}\n\t\t</CustomTag>\n\t);\n}","import React from 'react';\nimport styles from './style.module.css';\nimport { ThymeleafParamName, getThymeleafParamInt } from '../utils/thymeleaf-utils';\nimport { exists } from '../utils/utils';\nimport { handleLineBreakers } from './utils';\nimport PlatformType from '../utils/PlatformType';\n\nconst Message = ({ marginTopPc, marginTopMobile, textHeader, emoticon, text, content, buttons }) => {\n\tconst thPlatformType = getThymeleafParamInt(ThymeleafParamName.PLATFORM_TYPE);\n\tconst isMobile = thPlatformType !== PlatformType.PC;\n\tconst marginTop = isMobile === true ? marginTopMobile : marginTopPc;\n\treturn (\n\t\t<div style={{ marginTop: (marginTop + 'vh') }}>\n\t\t\t<div className={styles.container}>\n\t\t\t\t{exists(textHeader) && <div className={styles.textHeader}>{handleLineBreakers(textHeader)}</div>}\n\t\t\t\t<img className={styles.emoticon} src={emoticon} alt=\"\" />\n\t\t\t\t{exists(text) && <div className={`${styles.wrapper} ${styles.text}`}>{handleLineBreakers(text)}</div>}\n\t\t\t</div>\n\t\t\t{exists(content) && <div className={styles.wrapper}>{content}</div>}\n\t\t\t{\n\t\t\t\texists(buttons) && buttons.map((button) => {\n\t\t\t\t\tif (!exists(button)) {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\t\t\t\t\treturn (button);\n\t\t\t\t})\n\t\t\t}\n\t\t</div>\n\t);\n};\n\nexport default Message;","import React from 'react';\nimport styles from './style.module.css';\nimport { ThymeleafParamName, getThymeleafParamWithDefault } from '../utils/thymeleaf-utils';\nimport Message from './Message';\nimport infoImg from '../img/info.png';\nimport { createRegisteredDependentRedirectButton } from './utils';\nimport { Link } from '@vkontakte/vkui';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport { PanelHeaderBack } from '@vkontakte/vkui';\n\nconst InformationPanel = ({ id, panelHeaderText, contentPanelActviator }) => {\n\tconst content =\n\t\t<div className={styles.container}>\n\t\t\t<Link href=\"https://vk.com/dev/uprivacy\" target=\"_blank\">Политика конфиденциальности</Link>\n\t\t\t<p><Link href=\"https://vk.com/dev/uterms\" target=\"_blank\">Пользовательское соглашение</Link></p>\n\t\t</div>;\n\treturn (\n\t\t<Panel id={id}>\n\t\t\t<PanelHeader left={<PanelHeaderBack onClick={contentPanelActviator} />}>\n\t\t\t\t{panelHeaderText}\n\t\t\t</PanelHeader>\n\t\t\t<Message marginTopPc='25' marginTopMobile='25' textHeader=\"Информация\" content={content} />\n\t\t</Panel>);\n};\n\nexport default InformationPanel;","import React from 'react';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport { exists } from '../utils/utils';\nimport { ThymeleafParamName, getThymeleafParamInt } from '../utils/thymeleaf-utils';\nimport Icon28InfoOutline from '@vkontakte/icons/dist/28/info_outline';\n\nconst ContentPanel = ({ id, headerText, content, infoPanelActviator }) => {\n\tconst permanentAccessProvideResult = getThymeleafParamInt(ThymeleafParamName.PERMANENT_ACCESS_PROVIDE_RESULT);\n\tconst showPanelHeader = !exists(permanentAccessProvideResult);\n\treturn (\n\t\t<Panel id={id}>\n\t\t\t{showPanelHeader &&\n\t\t\t\t<PanelHeader>\n\t\t\t\t\t{headerText}\n\t\t\t\t</PanelHeader>}\n\t\t\t<div style={{ position: \"absolute\", color: \"#d5d5d5\", marginTop: \"10px\", right: \"10px\", cursor: \"pointer\" }} onClick={infoPanelActviator} >\n\t\t\t\t<Icon28InfoOutline width={50} height={50} />\n\t\t\t</div>\n\t\t\t{content}\n\t\t</Panel>\n\t);\n};\n\nexport default ContentPanel;\n","import React from 'react';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport InformationPanel from './panels/InformationPanel';\nimport ContentPanel from './panels/ContentPanel';\nimport { ThymeleafParamName, getThymeleafParam } from './utils/thymeleaf-utils';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.informationPanelId = 'information';\n\t\tthis.contentPanelId = 'content';\n\t\tthis.state = {\n\t\t\tactivePanel: this.contentPanelId\n\t\t}\n\t};\n\n\tchangeActivePannel(panelId) {\n\t\tthis.setState({ activePanel: panelId });\n\t};\n\n\trender() {\n\t\tconst ComponentWrapper = ({ tag }) => {\n\t\t\tconst Tag = tag;\n\t\t\treturn <Tag />;\n\t\t}\n\t\tconst content = <ComponentWrapper tag={this.props.type} />;\n\t\tconst panelHeaderText = getThymeleafParam(ThymeleafParamName.PANEL_HEADER_TEXT);\n\t\tconst contentPanel = <ContentPanel id={this.contentPanelId} headerText={panelHeaderText}\n\t\t\tcontent={content} infoPanelActviator={() => this.changeActivePannel(this.informationPanelId)} />;\n\t\tconst informationPanel = <InformationPanel id={this.informationPanelId}\n\t\t\tpanelHeaderText={panelHeaderText} contentPanelActviator={() => this.changeActivePannel(this.contentPanelId)} />;\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel} >\n\t\t\t\t{contentPanel}\n\t\t\t\t{informationPanel}\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default App;","import React from 'react';\nimport styles from './style.module.css';\nimport { ThymeleafParamName, getThymeleafParamWithDefault } from '../utils/thymeleaf-utils';\nimport Message from './Message';\nimport sadImg from '../img/sad.png';\nimport { createRegisteredDependentRedirectButton } from './utils';\n\nconst ErrorMessage = () => {\n\tconst errorHeaderThParamName = ThymeleafParamName.ERROR_HEADER;\n\tconst textHeader = getThymeleafParamWithDefault(errorHeaderThParamName, 'Извините,\\nчто-то пошло не так');\n\tconst errorTextThParamName = ThymeleafParamName.ERROR_TEXT;\n\tconst text = getThymeleafParamWithDefault(errorTextThParamName, 'Скоро всё исправим');\n\tconst content = <div className={`${styles.container} ${styles.text} ${styles.errorText}`}>{text}</div>\n\tconst buttons = [createRegisteredDependentRedirectButton()];\n\treturn <Message marginTopPc='15' marginTopMobile='20' textHeader={textHeader} emoticon={sadImg} content={content} buttons={buttons} />;\n};\n\nexport default ErrorMessage;","import React from 'react';\n\nimport Message from './Message';\nimport kindImg from '../img/kind.png';\nimport RedirectButton from './RedirectButton';\nimport RedirectButtonType from './RedirectButtonType';\nimport { ThymeleafParamName, getThymeleafParam } from '../utils/thymeleaf-utils';\n\nconst UnregisteredUserMessage = () => {\n\tconst textHeader = getThymeleafParam(ThymeleafParamName.UNREGISTERED_USER_MESSAGE_HEADER);\n\tconst text = getThymeleafParam(ThymeleafParamName.UNREGISTERED_USER_MESSAGE_TEXT);\n\tconst buttons = [<RedirectButton type={RedirectButtonType.DIALOG} />];\n\treturn <Message marginTopPc='20' marginTopMobile='20' textHeader={textHeader} emoticon={kindImg} text={text} buttons={buttons} />;\n}\n\nexport default UnregisteredUserMessage;","import React from 'react';\nimport ButtonTemplate from './ButtonTemplate';\nimport { createButton } from './utils';\n\nconst MenuButton = ({ text, onClick }) => (\n\tcreateButton('div', <ButtonTemplate text={text} onClick={onClick} />)\n);\n\nexport default MenuButton;","import React from 'react';\nimport { ThymeleafParamName, getThymeleafParam, getThymeleafParamInt } from '../utils/thymeleaf-utils';\nimport PlatformType from '../utils/PlatformType';\nimport Message from './Message';\nimport RedirectButton from './RedirectButton';\nimport RedirectButtonType from './RedirectButtonType';\nimport { handleLineBreakers } from './utils';\nimport styles from './style.module.css';\nimport { exists } from '../utils/utils';\n\nconst PermanentAccessInstruction = () => {\n\tconst textHeader = getThymeleafParam(ThymeleafParamName.PER_ACCESS_INSTRUCTION_HEADER);\n\tconst intro = getThymeleafParam(ThymeleafParamName.PER_ACCESS_INSTRUCTION_INTRO);\n\tconst clarificationHeader = getThymeleafParam(ThymeleafParamName.PER_ACCESS_INSTRUCTION_CLARIFICATION_HEADER);\n\tconst clarificationText = getThymeleafParam(ThymeleafParamName.PER_ACCESS_INSTRUCTION_CLARIFICATION_TEXT);\n\tconst platformType = getThymeleafParamInt(ThymeleafParamName.PLATFORM_TYPE);\n\n\tlet mobileText;\n\tif (platformType === PlatformType.MOBILE) {\n\t\tmobileText = getThymeleafParam(ThymeleafParamName.PER_ACCESS_INSTRUCTION_MOBILE_TEXT);\n\t}\n\n\tconst perAccessButton = <RedirectButton type={RedirectButtonType.PERMANENT_ACCESS} />;\n\tconst dialogButton = <RedirectButton type={RedirectButtonType.DIALOG} />;\n\tconst buttons = [perAccessButton, dialogButton];\n\tconst content = (\n\t\t<div>\n\t\t\t{createTextContainer(handleLineBreakers(intro))}\n\t\t\t<div className={styles.text} style={{ textAlign: 'center', fontWeight: 'bold' }}>{clarificationHeader}</div>\n\t\t\t{createTextContainer(handleLineBreakers(clarificationText))}\n\t\t\t{exists(mobileText) && createTextContainer(handleLineBreakers(mobileText))}\n\t\t</div>\n\t);\n\n\treturn <Message marginTopPc='10' marginTopMobile='3' textHeader={textHeader} content={content} buttons={buttons} />;\n}\n\nfunction createTextContainer(text) {\n\treturn <div className={`${styles.text} ${styles.bigTextContainer}`} >{text}</div>\n}\n\nexport default PermanentAccessInstruction;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from '../App';\n\nfunction render(type) {\n\tReactDOM.render(<App type={type} />, document.getElementById('root'));\n}\n\nexport default render;","import React from 'react';\nimport thumbupImg from '../img/thumbup.png';\nimport MenuButton from './MenuButton';\nimport RedirectButton from './RedirectButton';\nimport RedirectButtonType from './RedirectButtonType';\nimport PermanentAccessInstruction from './PermanentAccessInstruction';\nimport Message from './Message';\nimport { ThymeleafParamName, getThymeleafParam } from '../utils/thymeleaf-utils';\nimport render from '../utils/render';\n\nconst TemporaryAccessProvided = () => {\n\tconst textHeader = getThymeleafParam(ThymeleafParamName.TMP_ACCESS_PROVIDED_HEADER);\n\tconst text = getThymeleafParam(ThymeleafParamName.NEED_REPEAT_ACCESS_PROVISION_TEXT);\n\tconst buttonText = getThymeleafParam(ThymeleafParamName.PERMANENT_ACCESS_BUTTON_TEXT);\n\tconst permanentAccessButton = <MenuButton text={buttonText} onClick={renderPermanentAccessInstruction} />\n\tconst redirectButton = <RedirectButton type={RedirectButtonType.DIALOG} />;\n\tconst buttons = [permanentAccessButton, redirectButton];\n\treturn <Message marginTopPc='17' marginTopMobile='15' textHeader={textHeader} emoticon={thumbupImg} text={text} buttons={buttons} />;\n};\n\nfunction renderPermanentAccessInstruction() {\n\trender(PermanentAccessInstruction);\n}\n\nexport default TemporaryAccessProvided;","import React from 'react';\nimport Message from './Message';\nimport { ThymeleafParamName, getThymeleafParam, getThymeleafParamInt } from '../utils/thymeleaf-utils';\nimport { exists } from '../utils/utils';\nimport PlatformType from '../utils/PlatformType';\n\nconst NeedCacheCleanMessage = () => {\n\tconst textHeader = getThymeleafParam(ThymeleafParamName.NEED_CACHE_CLEAN_HEADER);\n\tconst platformType = getThymeleafParamInt(ThymeleafParamName.PLATFORM_TYPE);\n\tlet text;\n\tif (platformType === PlatformType.PC) {\n\t\ttext = getThymeleafParam(ThymeleafParamName.NEED_CACHE_CLEAN_PC_TEXT);\n\t} else {\n\t\ttext = getThymeleafParam(ThymeleafParamName.NEED_CACHE_CLEAN_MOBILE_TEXT);\n\t}\n\tif(exists(text)){\n\t\ttext += getThymeleafParam(ThymeleafParamName.NEED_CACHE_CLEAN_COMMON_TEXT);\n\t}\t\n\treturn <Message marginTopPc='15' marginTopMobile='15' textHeader={textHeader} text={text} />;\n}\n\nexport default NeedCacheCleanMessage;","const ApiError = {\n\t\"TOKEN_EXPIRED\": 1,\n\t\"TOKEN_NOT_RELEVANT\": 2,\n\t\"USER_NOT_REGISTERED\": 3\n}\n\nexport default ApiError;","import axious from 'axios';\nimport ErrorMessage from '../panels/ErrorMessage';\nimport NeedCacheCleanMessage from '../panels/NeedCacheCleanMessage';\nimport { exists, isString, strIsBlank } from './utils';\nimport { ThymeleafParamName, getThymeleafParam, setThymeleafParam } from '../utils/thymeleaf-utils';\nimport render from './render';\nimport ApiError from './ApiError';\n\nfunction request({ methodUrn, parameters, dataHandler, apiErrorHandlers }) {\n\trequestWithRepeatedFlag({ methodUrn: methodUrn, parameters: parameters, dataHandler: dataHandler, repeated: false, apiErrorHandlers: apiErrorHandlers });\n}\n\nfunction requestWithRepeatedFlag({ methodUrn, parameters, dataHandler, repeated, apiErrorHandlers }) {\n\tconst apiUrl = getThymeleafParam(ThymeleafParamName.API_URL);\n\tconst params = createParamsContainer(parameters);\n\taxious.post(apiUrl + methodUrn, null, {\n\t\tparams: params\n\t})\n\t\t.then((response) => {\n\t\t\tconst data = getResponseData(response);\n\t\t\texists(dataHandler) && dataHandler(data);\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconst data = getResponseData(e.response);\n\t\t\tswitch (data) {\n\t\t\t\tcase ApiError.TOKEN_NOT_RELEVANT:\n\t\t\t\t\trender(NeedCacheCleanMessage);\n\t\t\t\t\treturn;\n\t\t\t\tcase ApiError.TOKEN_EXPIRED:\n\t\t\t\t\thandleExpiredToken(methodUrn, dataHandler, repeated, apiErrorHandlers);\n\t\t\t\t\treturn;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst apiErrorHandler = getApiErrorHandler(data, apiErrorHandlers);\n\t\t\tif (exists(apiErrorHandler)) {\n\t\t\t\tapiErrorHandler();\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\trenderErrorMessage();\n\t\t});\n}\n\nfunction createParamsContainer(parameters) {\n\tconst defaultParams = { token: getThymeleafParam(ThymeleafParamName.TOKEN) };\n\tconst res = exists(parameters) ? Object.assign(defaultParams, parameters) : defaultParams;\n\treturn res;\n}\n\nfunction handleExpiredToken(methodUrn, dataHandler, repeated, apiErrorHandlers) {\n\tif (repeated === true) {\n\t\trenderErrorMessage();\n\t\treturn;\n\t}\n\trequestWithRepeatedFlag(getThymeleafParam(ThymeleafParamName.REFRESH_TOKEN_METHOD_URN), (data) => {\n\t\tsetThymeleafParam(ThymeleafParamName.TOKEN, data);\n\t\trequestWithRepeatedFlag(methodUrn, dataHandler, true, apiErrorHandlers);\n\t}, true);\n}\n\nfunction renderErrorMessage() {\n\trender(ErrorMessage);\n}\n\nfunction getApiErrorHandler(errorCode, apiErrorHandlers) {\n\tif (!exists(errorCode) || !exists(apiErrorHandlers)) {\n\t\treturn null;\n\t}\n\tfor (let apiErrorHandler of apiErrorHandlers) {\n\t\tif (apiErrorHandler.errorCode !== errorCode) {\n\t\t\tcontinue;\n\t\t}\n\t\treturn apiErrorHandler.hadler;\n\t};\n\treturn null;\n}\n\nfunction getResponseData(response) {\n\tif (!exists(response)) {\n\t\treturn null;\n\t}\n\tconst res = response.data;\n\tif (!exists(res)) {\n\t\treturn null;\n\t}\n\tif (isString(res) && strIsBlank(res)) {\n\t\treturn null;\n\t}\n\treturn res;\n}\n\nexport default request;","import React from 'react';\nimport RedirectButton from './RedirectButton';\nimport RedirectButtonType from './RedirectButtonType';\nimport MenuButton from './MenuButton';\nimport Message from './Message';\nimport { requestAccess } from '../utils/accessRequest';\nimport { ThymeleafParamName, getThymeleafParam } from '../utils/thymeleaf-utils';\n\nconst TemporaryAccessDeclined = () => {\n\tconst textHeader = getThymeleafParam(ThymeleafParamName.TMP_ACCESS_DECLINED_HEADER);\n\tconst text = getThymeleafParam(ThymeleafParamName.TMP_ACCESS_DECLINED_TEXT);\n\tconst retryButtonOnClick = () => { requestAccess() };\n\tconst buttonText = getThymeleafParam(ThymeleafParamName.RETRY_PROVIDE_TMP_ACCESS_BUTTON_TEXT);\n\tconst retryButton = <MenuButton text={buttonText} onClick={retryButtonOnClick} />\n\tconst redirectButton = <RedirectButton type={RedirectButtonType.DIALOG} />;\n\tconst buttons = [retryButton, redirectButton];\n\treturn <Message marginTopPc='15' marginTopMobile='10' textHeader={textHeader} text={text} buttons={buttons} />;\n}\n\nexport default TemporaryAccessDeclined;","import connect from '@vkontakte/vk-connect';\nimport { ThymeleafParamName, getThymeleafParam, getThymeleafParamInt } from './thymeleaf-utils';\nimport TemporaryAccessDeclined from '../panels/TemporaryAccessDeclined';\nimport TemporaryAccessProvided from '../panels/TemporaryAccessProvided';\nimport render from './render';\nimport request from './request';\n\nexport function requestAccess() {\n\tconst appId = getThymeleafParamInt(ThymeleafParamName.APP_ID);\n\tconst scope = getThymeleafParam(ThymeleafParamName.ACCESS_REQUEST_SCOPE);\n\tconnect.send(\"VKWebAppGetAuthToken\", { \"app_id\": appId, \"scope\": scope });\n}\n\nexport function handleAccessProvided(data) {\n\tconst scope = getThymeleafParam(ThymeleafParamName.ACCESS_REQUEST_SCOPE);\n\tif (scope !== data.scope) {\n\t\trenderTemporaryAccessDeclined();\n\t\treturn;\n\t}\n\tconst methodUrn = getThymeleafParam(ThymeleafParamName.SET_ACCESS_TOKEN_METHOD_URN);\n\tconst parameters = { access_token: data.access_token };\n\trequest({\n\t\tmethodUrn: methodUrn, parameters: parameters, dataHandler: () => {\n\t\t\trender(TemporaryAccessProvided);\n\t\t}\n\t});\n}\n\nexport function handleTemporaryAccessDeclined() {\n\trenderTemporaryAccessDeclined();\n}\n\nfunction renderTemporaryAccessDeclined() {\n\trender(TemporaryAccessDeclined);\n}","const VkDataAccessType = {\n\t\"NONE\": 0,\n\t\"TEMPORARY\": 1,\n\t\"PERMANENT\": 2\n}\n\nexport default VkDataAccessType;","class ApiErrorHandler {\n  constructor(errorCode, hadler) {\n    this.errorCode = errorCode;\n    this.hadler = hadler;\n  }\n}\n\nexport default ApiErrorHandler;","import React from 'react';\nimport Message from './Message';\nimport { createRegisteredDependentRedirectButton } from './utils';\nimport kindImg from '../img/kind.png';\nimport { ThymeleafParamName, getThymeleafParam } from '../utils/thymeleaf-utils';\n\nconst PermanentAccessProvided = () => {\n\tconst textHeader = getThymeleafParam(ThymeleafParamName.PERMANENT_ACCESS_PROVIDED_HEADER);\n\tconst text = getThymeleafParam(ThymeleafParamName.PERMANENT_ACCESS_PROVIDED_TEXT);\n\tconst buttons = [createRegisteredDependentRedirectButton()];\n\treturn <Message marginTopPc='20' marginTopMobile='20' textHeader={textHeader} emoticon={kindImg} text={text} buttons={buttons} />;\n};\n\nexport default PermanentAccessProvided;","const PermanentAccessProvideResult = {\n\t'SUCCESS': 0,\n\t'DECLINED': 1\n}\n\nexport default PermanentAccessProvideResult;","import React from 'react';\nimport RedirectButton from './RedirectButton';\nimport RedirectButtonType from './RedirectButtonType';\nimport Message from './Message';\nimport { ThymeleafParamName, getThymeleafParam } from '../utils/thymeleaf-utils';\n\nconst PermanentAccessDeclined = () => {\n\tconst textHeader = getThymeleafParam(ThymeleafParamName.PER_ACCESS_DECLINED_HEADER);\n\tconst text = getThymeleafParam(ThymeleafParamName.NEED_REPEAT_ACCESS_PROVISION_TEXT);\n\tconst retryButton = <RedirectButton type={RedirectButtonType.PERMANENT_ACCESS} />;\n\tconst redirectButton = <RedirectButton type={RedirectButtonType.DIALOG} />;\n\tconst buttons = [retryButton, redirectButton];\n\treturn <Message marginTopPc='25' marginTopMobile='20' textHeader={textHeader} text={text} buttons={buttons} />;\n}\n\nexport default PermanentAccessDeclined;","import ErrorMessage from '../panels/ErrorMessage';\nimport UnregisteredUserMessage from '../panels/UnregisteredUserMessage';\nimport TemporaryAccessProvided from '../panels/TemporaryAccessProvided';\nimport { ThymeleafParamName, getThymeleafParam, getThymeleafParamBool, getThymeleafParamInt, setThymeleafParam } from './thymeleaf-utils';\nimport { exists, strContains } from './utils';\nimport render from './render';\nimport request from './request';\nimport { requestAccess } from './accessRequest';\nimport VkDataAccessType from './VkDataAccessType';\nimport ApiError from './ApiError';\nimport ApiErrorHandler from './ApiErrorHandler';\nimport PermanentAccessProvided from '../panels/PermanentAccessProvided';\nimport platform from 'platform';\nimport PlatformType from './PlatformType';\nimport PermanentAccessProvideResult from './PermanentAccessProvideResult';\nimport PermanentAccessDeclined from '../panels/PermanentAccessDeclined';\n\nfunction start() {\n\tcheckPlatformType();\n\n\tif (getThymeleafParamBool(ThymeleafParamName.ERROR)) {\n\t\trender(ErrorMessage);\n\t\treturn;\n\t}\n\n\tconst permanentAccessProvideResult = getThymeleafParamInt(ThymeleafParamName.PERMANENT_ACCESS_PROVIDE_RESULT);\n\tif (exists(permanentAccessProvideResult)) {\n\t\thandlePermanentAccessProvideResult(permanentAccessProvideResult);\n\t\treturn;\n\t}\n\n\thandleAccessType();\n}\n\nfunction checkPlatformType() {\n\tlet platformType = getThymeleafParam(ThymeleafParamName.PLATFORM_TYPE);\n\tif (exists(platformType)) {\n\t\treturn;\n\t}\n\tconst os = platform.os.toString().toLowerCase();\n\tif (strContains(os, \"android\") || strContains(os, \"ios\")) {\n\t\tplatformType = PlatformType.MOBILE;\n\t} else {\n\t\tplatformType = PlatformType.PC;\n\t}\n\tsetThymeleafParam(ThymeleafParamName.PLATFORM_TYPE, platformType);\n}\n\nfunction handlePermanentAccessProvideResult(value) {\n\tswitch (value) {\n\t\tcase PermanentAccessProvideResult.SUCCESS:\n\t\t\trender(PermanentAccessProvided);\n\t\t\treturn;\n\t\tcase PermanentAccessProvideResult.DECLINED:\n\t\t\trender(PermanentAccessDeclined);\n\t\t\treturn;\n\t\tdefault:\n\t\t\treturn;\n\t}\n}\n\nfunction handleAccessType() {\n\tconst methodUrn = getThymeleafParam(ThymeleafParamName.GET_ACCESS_TYPE_METHOD_URN);\n\tconst userNotRegisteredHandler = new ApiErrorHandler(ApiError.USER_NOT_REGISTERED, () => {\n\t\trender(UnregisteredUserMessage);\n\t});\n\trequest({\n\t\tmethodUrn: methodUrn,\n\t\tdataHandler: (data) => {\n\t\t\tswitch (data) {\n\t\t\t\tcase VkDataAccessType.NONE:\n\t\t\t\t\trequestAccess();\n\t\t\t\t\tbreak;\n\t\t\t\tcase VkDataAccessType.TEMPORARY:\n\t\t\t\t\trender(TemporaryAccessProvided);\n\t\t\t\t\tbreak;\n\t\t\t\tcase VkDataAccessType.PERMANENT:\n\t\t\t\t\trender(PermanentAccessProvided);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tapiErrorHandlers: [userNotRegisteredHandler]\n\t});\n}\n\nexport default start;","import start from './start';\nimport { handleAccessProvided, handleTemporaryAccessDeclined } from './accessRequest';\n\nfunction handleEvent(event) {\n\tconst detail = event.detail;\n\tswitch (detail.type) {\n\t\tcase 'VKWebAppViewRestore':\n\t\t\thandleViewRestore();\n\t\t\tbreak;\n\t\tcase 'VKWebAppAccessTokenReceived':\n\t\t\thandleAccessProvided(detail.data);\n\t\t\tbreak;\n\t\tcase 'VKWebAppAccessTokenFailed':\n\t\t\thandleTemporaryAccessDeclined();\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n}\n\nfunction handleViewRestore() {\n\tstart();\n}\n\nexport default handleEvent;","// NOTE без App рушится верстка\nimport App from './App';\nimport 'core-js/features/map';\nimport 'core-js/features/set';\nimport connect from '@vkontakte/vk-connect';\nimport start from './utils/start';\nimport handleEvent from './utils/handleEvent';\nimport InformationPanel from './panels/InformationPanel';\nimport render from './utils/render';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send(\"VKWebAppInit\", {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nstart();\n// render(InformationPanel);\nconnect.subscribe((e) => handleEvent(e));","module.exports = __webpack_public_path__ + \"static/media/kind.34157c7f.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textHeader\":\"style_textHeader__1kvhw\",\"emoticon\":\"style_emoticon__2rlby\",\"container\":\"style_container__3RFqX\",\"text\":\"style_text__1F2EP\",\"bigTextContainer\":\"style_bigTextContainer__2oe1v\",\"link\":\"style_link__1iMrX\",\"button\":\"style_button__1gPxd\",\"wrapper\":\"style_wrapper__2cWjy\",\"flex\":\"style_flex__3yOg6\",\"buttonLink\":\"style_buttonLink__18msL\",\"errorText\":\"style_errorText__23DH3\"};"],"sourceRoot":""}